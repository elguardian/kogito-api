<?xml version="1.0" encoding="UTF-8"?>
<section version="5.0"
         xsi:schemaLocation="http://docbook.org/ns/docbook http://www.docbook.org/xml/5.0/xsd/docbook.xsd http://www.w3.org/1999/xlink http://www.docbook.org/xml/5.0/xsd/xlink.xsd"
         xml:base=".."
         xml:id="sect-dashbuilder-dataproviders-csv_provider"
         xmlns="http://docbook.org/ns/docbook"
         xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
         xmlns:xs="http://www.w3.org/2001/XMLSchema"
         xmlns:xlink="http://www.w3.org/1999/xlink"
         xmlns:xi="http://www.w3.org/2001/XInclude"
         xmlns:ns="http://docbook.org/ns/docbook">

  <title>Retrieving data from a CSV file</title>

  <para>Click on '<emphasis>Create new data provider</emphasis>'. The
    following fields will be shown in the form, with some sensible
    defaults:
  </para>

  <itemizedlist>
    <listitem>
      <para>Type: in this case - choose the CSV File</para>
    </listitem>

    <listitem>
      <para>Name: Write the name you want to give to our data provider (this
        field is multi-language).
      </para>
    </listitem>

    <listitem>
      <para>CSV file URL: Here write the URL where oyur CSV file is
        located.
      </para>

      <para>As an example you can grab the CSV file used by the Sales
        Dashboard, just copy &amp; paste the following URL:
      </para>

      <para>
        <filename>
          https://raw.github.com/droolsjbpm/dashboard-builder/master/modules/dashboard-samples/src/main/webapp/WEB-INF/etc/appdata/initialData/expenseReports.csv
        </filename>
      </para>
    </listitem>

    <listitem>
      <para>Data separator: Left as is.</para>
    </listitem>

    <listitem>
      <para>Quoting symbol: Left as is.</para>
    </listitem>

    <listitem>
      <para>Date format: Where we can define different date formats or even
        hour.
      </para>
    </listitem>

    <listitem>
      <para>Number format: Where we can define the number format.</para>
    </listitem>
  </itemizedlist>

  <para>Once you have filled all the fields, click on 'Try', to check that
    everything works properly. The application will give you a message
    '<emphasis>Correct data set ..</emphasis>.' and we continue by pressing
    '<emphasis>Save</emphasis>'.
  </para>

  <figure>
    <title>CSV data provider creation form</title>
    <screenshot>
      <mediaobject>
        <imageobject>
          <imagedata align="center" fileref="images/DataProviders/CSVProviderCreateForm.png"/>
        </imageobject>
      </mediaobject>
    </screenshot>
  </figure>

  <para>Next, a screen is shown with all the fields found after parsing the
    file, giving us the option to change the name of each field. For numeric
    fields it gives us the option to specify if we want numeric values to be
    treated as labels by the dashboard engine. This is something really useful
    when dealing with numbers which actually behave as labels, f.i: the numeric
    reference code of a product item.
  </para>

  <figure>
    <title>Data provider properties configuration panel</title>
    <screenshot>
      <mediaobject>
        <imageobject>
          <imagedata align="center" fileref="images/DataProviders/DataProviderPropertiesTable.png"/>
        </imageobject>
      </mediaobject>
    </screenshot>
  </figure>

  <para>After this last step, you can save and finish the creation of your new
    data provider.
  </para>

  <figure>
    <title>New data provider instance has been created</title>
    <screenshot>
      <mediaobject>
        <imageobject>
          <imagedata align="center" fileref="images/DataProviders/DataProviderTableNewItem.png"/>
        </imageobject>
      </mediaobject>
    </screenshot>
  </figure>
</section>
