<?xml version="1.0" encoding="UTF-8"?>
<section version="5.0"
             xsi:schemaLocation="http://docbook.org/ns/docbook http://www.docbook.org/xml/5.0/xsd/docbook.xsd http://www.w3.org/1999/xlink http://www.docbook.org/xml/5.0/xsd/xlink.xsd"
             xml:base="../../" xml:id="wb.AssetManagement" xmlns="http://docbook.org/ns/docbook"
             xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xs="http://www.w3.org/2001/XMLSchema"
             xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:xi="http://www.w3.org/2001/XInclude"
             xmlns:ns="http://docbook.org/ns/docbook">
    <title>Asset Management</title>

    <section xml:id="wb.assetMgmtOverview">
        <title>Asset Management Overview</title>

        <para>This section of the documentation describes the main features included that contribute to the Asset Management
            functionality provided in the KIE Workbench and KIE Drools Workbench. All the features described here are entirely optional,
            but the usage is recommended if you are planning to have multiple projects. All the Asset Management features try to impose 
            good practices on the repository structure that will make the maintainace, versioning and distribution of the projects simple and based on standards. 
            All the Asset Management features are implemented using jBPM Business Processes, which means that the 
            logic can be reused for external applications as well as adapted for domain specific requirements when needed.
        </para>


    </section>

    <section xml:id="wb.assetMgmtProcesses">
        <title>Asset Management Processes</title>

        <para>There are 4 main processes which represent the stages of the Asset Management feature: Configure Repository, Promote Changes, Build and Release.</para>


        <section xml:id="wb.assetMgmtConfigureProcess">
            <title>Configure Repository</title>
            <para>The Configure Repository process is in charge of the post initialization of the repository. This process will be automatically triggered if the user selects 
                to create a Managed Repository on the New repository wizzard. If they decide to use the governance feature the process will kick in and as soon as 
                the repository is created. A new development and release branches will be created. Notice that the first time that this process is called, 
                the master branch is picked and both branches (dev and release) will be based on it. 
            </para>
            <mediaobject>
                <imageobject>
                    <imagedata fileref="images/Workbench/AssetManagement/asset-mgmt-create-repo.png"/>
                </imageobject>
            </mediaobject>
            <para>By default the asset management feature is not enabled so make sure to select Managed Repository on the New Repository Wizzard.
                When we work inside a managed repository, the development branch is selected for the users to work on. 
                If multiple dev branches are created, the user will need to pick one.
            </para>
        </section>

        <section xml:id="wb.assetMgmtPromoteProcess">
            <title>Promote Changes Process</title>
            <para>
                When some work is done in the developments branch and the users reach a point where the changes needs to be tested before going into 
                production, they will start a new Promote Changes process so a more technical user can decide and review what needs to be promoted.
                The users belonging to the "kiemgmt" group will see a new Task in their Group Task List which will contain all the files that
                had being changed. 

                The user needs to select the assets that will be promoting via the UI. The underlying process will be cherry-picking the commits selected by 
                the user to the release branch. The user can specify that a review is needed by a more technical user.
            </para>
            <para>
                This process can be repeated multiple times if needed before creating the artifacts for the release.
            </para>
            <mediaobject>
                <imageobject>
                    <imagedata fileref="images/Workbench/AssetManagement/asset-mgmt-promote.png"/>
                </imageobject>
            </mediaobject>


        </section>
        <section xml:id="wb.assetMgmtBuildProcess">
            <title>Build Process</title>
            <para>
                The Build process can be triggered to build our projects from different branches. This allows us to have a more flexible way to 
                build and deploy our projects to different runtimes. 
            </para>
            <mediaobject>
                <imageobject>
                    <imagedata fileref="images/Workbench/AssetManagement/asset-mgmt-build.png"/>
                </imageobject>
            </mediaobject>
            <para>

            </para>
        </section>
        <section xml:id="wb.assetMgmtReleaseProcess">
            <title>Release Process</title>
            <para>
                The release process is triggered at any time when the user decided that it is time to generate a release of the project that he/she 
                is working on. This process will build the project (calling the Build Process) and it will update all the maven artifacts to the next version. 
            </para>
            <mediaobject>
                <imageobject>
                    <imagedata fileref="images/Workbench/AssetManagement/asset-mgmt-release.png"/>
                </imageobject>
            </mediaobject>

        </section>
    </section>
    <section xml:id="wb.assetMgmtUsageFlow">
        <title>Usage Flow</title>

        <para>This section describes the common usage flow for the asset management features showing all the 
            screens involved. 
        </para>

        <para>The first contact with the Asset Management features starts on the Repository creation.</para>

        <mediaobject>
            <imageobject>
                <imagedata fileref="images/Workbench/AssetManagement/new-repo-1page-wizzard.png"/>
            </imageobject>
        </mediaobject>

        <para>If the user chooses to create a Managed Respository a new page in the wizzard is enabled:</para>

        <mediaobject>
            <imageobject>
                <imagedata fileref="images/Workbench/AssetManagement/new-repo-2page-wizzard.png"/>
            </imageobject>
        </mediaobject>
        <para>As you can see there are two types of Managed Repositories: Single and Multi Project repositories.</para>
        <para>Single Project Repository: </para>
        <para>Multi Project Repository: </para>
        <para>As soon as the repository is created</para>
    </section>
    <section xml:id="wb.assetMgmtRemoteAPIs">
        <title>Remote APIs </title>
        <para>TBD</para>
      
    </section>

</section>
